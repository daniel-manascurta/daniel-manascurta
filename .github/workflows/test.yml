name: Test

on:
  schedule:
    # Runs at 1 AM daily
    - cron: "05 * * * *"
  workflow_dispatch:
    inputs:
      workbenches_json:
        description: 'Wrokbenches resources in JSON format'
        required: true
        default: |         
          [
            {
              "resourceGroup": "release-one-wb",
              "resourceSuffix": "release",
              "sku": "EP1",
              "maximumBurst": 5,
              "privateEndpointSupport": false,
              "deployCpdRetryQueue": true
            }
          ]

jobs:
  passvar:
    runs-on: ubuntu-latest
    env:
      JSON_VAR: '{\"resourceGroup\": \"release-one-wb\",\"resourceSuffix\": \"release\",\"sku\": \"EP1\",\"maximumBurst\": 5,\"privateEndpointSupport\": false,\"deployCpdRetryQueue\": true}'
    
    steps:
      - name: pass josn
        uses: ./.github/workflows/call.yml
        with:
          pass_vars: ${{ github.event.inputs.workbenches_json || env.JSON_VAR}}
